<!DOCTYPE html>

<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
<title>MasterUno â€” Bomba Edition</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Nunito:wght@700;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
<script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</head>
<body>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• LOGIN SCREEN â•â• -->

<div id="loginScreen" class="screen active">
  <div class="login-bg">
    <div class="bg-card c1"></div>
    <div class="bg-card c2"></div>
    <div class="bg-card c3"></div>
    <div class="bg-card c4"></div>
  </div>
  <div class="login-box">
    <div class="logo-wrap">
      <span class="logo-master">MASTER</span>
      <span class="logo-uno">UNO</span>
    </div>
    <p class="logo-sub">BOMBA EDITION</p>
    <div class="field-group">
      <label class="field-label">NICKNAME</label>
      <input type="text" id="loginName" placeholder="Il tuo nome..." maxlength="16" autocomplete="off">
    </div>
    <div class="field-group">
      <label class="field-label">PASSWORD</label>
      <input type="password" id="loginPass" placeholder="Password..." maxlength="32">
    </div>
    <button class="btn-login" id="loginBtn">ENTRA NEL GIOCO</button>
    <p class="login-note">Nessun account? Scrivi nome + password e sarÃ  creato.</p>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• LOBBY SCREEN â•â• -->

<div id="lobbyScreen" class="screen">

  <!-- Header -->

  <div class="lobby-header">
    <div class="lobby-player-tag" id="lobbyPlayerTag">PLAYER</div>
    <div class="lobby-title">MASTER<span>UNO</span></div>
    <button class="btn-gear" id="settingsBtn" title="Impostazioni">âš™ï¸</button>
  </div>

  <!-- Main card -->

  <div class="lobby-card">

```
<!-- Il tuo ID -->
<div class="id-section">
  <div class="id-label">IL TUO CODICE</div>
  <div class="id-value" id="myPeerId">â€”â€”</div>
  <button class="btn-copy-id" id="copyBtn">ğŸ“‹ Copia &amp; Condividi</button>
</div>

<div class="lobby-divider">â€” oppure â€”</div>

<!-- Connettiti -->
<div class="connect-section">
  <input type="text" id="friendIdInput" placeholder="Codice amico..." class="input-code" autocomplete="off">
  <button class="btn-connect" id="connectBtn">ğŸ”— CONNETTI</button>
</div>

<div class="lobby-divider">â€” oppure â€”</div>

<!-- Bot -->
<button class="btn-bot" id="playBotBtn">ğŸ¤– GIOCA vs COMPUTER</button>
```

  </div>

  <!-- Footer status -->

  <div class="lobby-status" id="lobbyStatus">In attesa di connessione...</div>

</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• SETTINGS PANEL â•â• -->

<div id="settingsPanel" class="side-panel">
  <div class="panel-header">
    <span>âš™ï¸ IMPOSTAZIONI</span>
    <button class="btn-close-panel" id="closeSettings">âœ•</button>
  </div>
  <div class="panel-body">

```
<div class="setting-block">
  <div class="setting-title">ğŸ‘¥ NUMERO GIOCATORI</div>
  <div class="setting-desc">Quante persone al tavolo (gli umani mancanti saranno bot)</div>
  <div class="radio-group" id="numPlayersGroup">
    <label class="radio-pill active"><input type="radio" name="np" value="2" checked> 2</label>
    <label class="radio-pill"><input type="radio" name="np" value="3"> 3</label>
    <label class="radio-pill"><input type="radio" name="np" value="4"> 4</label>
  </div>
</div>

<div class="setting-block">
  <div class="setting-title">ğŸ”„ REGOLA SCAMBIO 0</div>
  <div class="setting-desc">Quando giochi uno 0, tutti scambiano le carte in senso orario</div>
  <label class="toggle-switch">
    <input type="checkbox" id="rule0">
    <span class="toggle-slider"></span>
  </label>
</div>

<div class="setting-block">
  <div class="setting-title">ğŸ¤ REGOLA SCAMBIO 7</div>
  <div class="setting-desc">Quando giochi un 7, scegli con chi scambiare le carte</div>
  <label class="toggle-switch">
    <input type="checkbox" id="rule7">
    <span class="toggle-slider"></span>
  </label>
</div>

<div class="setting-block">
  <div class="setting-title">ğŸ£ PESCA A STRASCIO</div>
  <div class="setting-desc">Puoi impilare +2 e +4: il prossimo riceve tutto lo stack accumulato</div>
  <label class="toggle-switch">
    <input type="checkbox" id="ruleStack" checked>
    <span class="toggle-slider"></span>
  </label>
</div>

<div class="setting-block">
  <div class="setting-title">ğŸƒ MULTI-CARTA</div>
  <div class="setting-desc">Nel tuo turno puoi giocare tutte le carte con lo stesso numero in sequenza</div>
  <label class="toggle-switch">
    <input type="checkbox" id="ruleMulti">
    <span class="toggle-slider"></span>
  </label>
</div>

<div class="setting-block rules-classic">
  <div class="setting-title">ğŸ“‹ REGOLE CLASSICHE</div>
  <ul class="rules-list">
    <li>Abbina per colore o numero alla carta sul tavolo</li>
    <li>Wild: scegli tu il colore</li>
    <li>+4: solo se non hai il colore. Attacca gli stack</li>
    <li>Di' MASTERUNO! quando hai 2 carte, altrimenti +2</li>
    <li>Vince chi finisce le carte per primo</li>
  </ul>
</div>
```

  </div>
</div>
<div class="panel-overlay" id="panelOverlay"></div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• GAME AREA â•â• -->

<div id="gameArea" class="screen">

  <!-- Top bar -->

  <div class="game-topbar">
    <div id="turnIndicator" class="turn-text">CARICAMENTO...</div>
    <button class="btn-gear small" id="chatToggleBtn" title="Chat">ğŸ’¬</button>
  </div>

  <!-- Avversari -->

  <div id="opponentsArea"></div>

  <!-- Centro tavolo -->

  <div id="centerArea">
    <div id="deck" class="card-back-classic deck-btn">
      <span>MASTER</span><span>UNO</span>
    </div>
    <div id="discardPile"></div>
    <div id="colorIndicator" class="color-indicator"></div>
  </div>

  <!-- Mano giocatore -->

  <div id="playerArea">
    <div id="playerInfo" class="player-info-bar">
      <span id="playerBadge" class="player-badge">TU: 7</span>
    </div>
    <div id="playerHand" class="hand player-hand"></div>
  </div>

  <!-- Bottone MasterUno -->

<button id="masterUnoBtn" class="btn-masteruno hidden">ğŸ”¥ MASTER UNO!</button>

</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• COLOR PICKER â•â• -->

<div id="colorPicker" class="fullscreen-overlay hidden">
  <div class="picker-box">
    <h3>SCEGLI COLORE</h3>
    <div class="pick-grid">
      <div class="pick red" onclick="setWildColor('red')">ğŸ”´</div>
      <div class="pick blue" onclick="setWildColor('blue')">ğŸ”µ</div>
      <div class="pick green" onclick="setWildColor('green')">ğŸŸ¢</div>
      <div class="pick yellow" onclick="setWildColor('yellow')">ğŸŸ¡</div>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• SWAP PICKER â•â• -->

<div id="swapPicker" class="fullscreen-overlay hidden">
  <div class="picker-box">
    <h3>CON CHI SCAMBI?</h3>
    <div id="swapTargets" class="swap-targets"></div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• CHAT â•â• -->

<div id="chatPanel" class="chat-panel hidden">
  <div class="chat-header">
    <span>ğŸ’¬ CHAT</span>
    <button id="chatCloseBtn">âœ•</button>
  </div>
  <div id="chatMessages" class="chat-messages"></div>
  <div class="emoji-bar">
    <span class="emoji-btn" onclick="sendEmoji('ğŸ”¥')">ğŸ”¥</span>
    <span class="emoji-btn" onclick="sendEmoji('ğŸ˜‚')">ğŸ˜‚</span>
    <span class="emoji-btn" onclick="sendEmoji('ğŸ˜¤')">ğŸ˜¤</span>
    <span class="emoji-btn" onclick="sendEmoji('ğŸ‰')">ğŸ‰</span>
    <span class="emoji-btn" onclick="sendEmoji('ğŸ’€')">ğŸ’€</span>
    <span class="emoji-btn" onclick="sendEmoji('ğŸ‘€')">ğŸ‘€</span>
    <span class="emoji-btn" onclick="sendEmoji('ğŸ¤¡')">ğŸ¤¡</span>
    <span class="emoji-btn" onclick="sendEmoji('âš¡')">âš¡</span>
  </div>
  <div class="chat-input-row">
    <input type="text" id="chatInput" placeholder="Scrivi..." maxlength="80">
    <button id="chatSendBtn">â¤</button>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• CARD DRAW ANIMATION â•â• -->

<div id="drawAnimCard" class="draw-anim-card hidden">
  <span>MASTER</span><span>UNO</span>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• END SCREEN â•â• -->

<div id="endScreen" class="screen">
  <div class="end-box">
    <div class="end-icon" id="endIcon">ğŸ†</div>
    <h1 id="endTitle" class="end-title">VITTORIA!</h1>
    <p id="endSubtitle" class="end-sub">Ottima partita!</p>
    <div class="end-stats" id="endStats"></div>
    <button class="btn-login" id="playAgainBtn" style="margin-top:20px">ğŸ”„ GIOCA ANCORA</button>
    <button class="btn-white-end" id="exitBtn">ğŸšª MENU PRINCIPALE</button>
  </div>
</div>

<!-- Toast container -->

<div id="toast-container"></div>

<script src="script.js"></script>

</body>
</html>
